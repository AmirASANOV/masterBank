"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5594],{25594:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});n(76801),n(43843),n(63975),n(59749),n(86544),n(60228),n(84254),n(752),n(21694),n(76265),n(89730),n(30024),n(12826),n(34284),n(77049),n(64043);var o=n(67294),i=n(27595),a=n(47287),r=n(22283),l=n(34292),c=(n(16296),n(52322)),u=n(68322),s=n(7386),d=n(94057),f=n(48616),m=n(96596),h=n(69640),p=n(75253),g=n(2874),y=n(81890),b=n(32175),v=n(92576),_=n(78027);n(34294);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,a,r,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}const N=(0,o.memo)((function(e){var t=e.timer,n=(0,l.M)(),k=n.get("phoneNumber"),N=C((0,o.useState)(k||""),2),S=N[0],E=N[1],P=(0,s.d)(),w=(0,c.Z)(),x=(0,u.C)((function(e){return e.session})).loader,A=(0,u.C)((function(e){return e.session.codeMessage})),I=(0,u.C)((function(e){return e.validator.passport_info})).date_birthday,Z=(0,u.C)((function(e){return e.session.phoneNumber}))||n.get("phoneNumberFromState"),M=h.JP.updateDateBirthday,T=m.I.helpers.getInputStatus,j=(0,u.C)((function(e){return e.validator.passport_info.date_birthday.result.value}))||n.get("birthday"),B=11===(null==Z?void 0:Z.length)&&10===(null==j?void 0:j.length)||T(I.result.status),q=(0,a.PP)(S),F=P.showChangePhone||11===P.defaultPhone.length||!!Z&&11===Z.length,W="BASIC_SMS",D=n.get("phoneNumberFromState")||"",O=(0,o.useCallback)((function(e){E((function(t){return null===t?"":t!==e?e:t}))}),[]),U=((0,o.useCallback)((function(e){w(M({value:e,touched:!0}));var t=document.getElementsByClassName("react-datepicker-wrapper")[0];8===(0,a.PP)(e).length?(t.blur(),t.style.backgroundColor="rgba(3, 49, 140, 0.12)"):t.style.backgroundColor="#fff"}),[]),(0,o.useCallback)((function(){P.setShowChangePhone(!1),w((0,f.vB)(null)),w(h.JP.updateUserPhone({value:null,touched:!1})),w((0,d.yb)()),E(null),n.remove("phoneNumber"),n.remove("phoneNumberFromState")}),[]));return(0,o.useEffect)((function(){S&&S.length&&n.set("phoneNumber",(0,a.PP)(S)),null!=Z&&Z.length&&n.set("phoneNumberFromState",(0,a.PP)(Z))}),[W,j,S,Z,I.result.status]),(0,o.useEffect)((function(){q.length&&P.checkInput(q)}),[B,q]),o.createElement("div",{className:"modal-container",style:{perspective:2e3,display:window.location.pathname.includes("/pdf_/agreement")?"none":"flex"}},o.createElement(b.Z,{style:{maxWidth:400,maxHeight:600,margin:20,padding:30,overflow:"auto",transition:"all .5s",boxShadow:"0px 0px 100px rgba(0,0,0,.4)"},onClick:function(e){return e.preventDefault()}},o.createElement("div",{onClick:function(){return w((0,d.K4)(!1))},className:_.Z["notification-close"],"aria-hidden":!0},o.createElement("div",{className:_.Z["notification-close-first-line"]}),o.createElement("div",{className:_.Z["notification-close-second-line"]})),P.valid.valid&&x&&P.sendingCode?o.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:30,flexWrap:"wrap"}},o.createElement(g.e,{status:"waiting",field:"text",style:{position:"relative",display:"block",top:0,left:0,right:0,bottom:0,width:50,height:50}}),o.createElement("br",null),o.createElement("p",{className:"document-text",style:{width:"100%",textAlign:"center"}},"Происходит авторизация...")):o.createElement("div",{style:{maxWidth:P.isDesktop?"100%":"90%"}},o.createElement(v.N,{title:"Укажите ваш номер телефона для отправки заявки",titleStyle:{textAlign:"center"}}),o.createElement(i.yt,{theme:"sobank",inputStyle:{background:"rgba(3, 49, 140, 0.12)",padding:10},mask:"+7-(999)-999-99-99",alwaysShowMask:!0,containerStyle:{marginTop:20},labelStyle:{textAlign:"center"},value:P.defaultPhone||S||"",onChange:O,inputClass:"phoneInput",disabled:11===(0,a.PP)(S).length&&P.showChangePhone,errorMessage:P.valid.message,required:P.valid.required,type:"tel",formKey:"auth-phone",checker:function(e){return 11===(0,a.PP)(e).length||void 0},validator:p.Ze}),F?o.createElement("p",{className:"document-text link-color link-action font-main",onClick:function(){return P.changePhone(U)},"aria-hidden":!0},"Изменить номер телефона"):"",!1,(x||11===D.length||11===P.defaultPhone.length)&&o.createElement(y.yt,{containerStyle:{marginTop:20},inputStyle:{textAlign:"center",padding:10,letterSpacing:5},placeholder:"____",labelStyle:{textAlign:"center"},maxLength:4,animationEffect:"zoom-up",labelText:"Введите код подтверждения из СМС",inputType:"one-time-code",autoFocus:!0,autoComplete:"one-time-code",id:"single-factor-code-text-field",onInput:function(e){4!==(0,a.PP)(e.target.value).length&&0!==(0,a.PP)(e.target.value).length||P.checkCode(e)}}),A&&o.createElement("p",{className:"span-error font-main"},"Вы ввели неправильный код."," ",P.showCodeMessage&&0===t?o.createElement("span",{onClick:function(){return P.updateCode()},className:"link-action","aria-hidden":!0},"Нажмите сюда, чтобы отправить код повторно."):""),11===(null==S?void 0:S.length)&&t>0&&t<60?o.createElement("p",{className:"document-text link-color font-main"},"Не пришел код? Запросите повторно через"," ",o.createElement("span",{style:{whiteSpace:"nowrap"}},(0,r.n)(t))):0===t&&P.countClickResendSms<2||-1===t&&P.countClickResendSms<2&&Boolean(n.get("modalClose"))?o.createElement("p",{className:"document-text link-color link-action font-main",onClick:function(){return P.updateCode()},style:{cursor:"pointer"},"aria-hidden":!0},"Отправить код повторно"):"",o.createElement(y.I0,{required:!0,state:!0,target:"_blank",rel:"noopener noreferer",setState:function(){},id:"agreement_document",containerId:"container_agreement_document",containerStyle:{marginTop:20,width:"100%"}}))))}))},78027:(e,t,n)=>{n.d(t,{Z:()=>o});const o={"notification-item":"Notification_notification-item__vx9W4",renderNotification:"Notification_renderNotification__fSCTE",deleted:"Notification_deleted__VZU5e","notification-bar":"Notification_notification-bar__XVUbv","notification-body":"Notification_notification-body__pYzbR","notification-content":"Notification_notification-content__qZbDq","notification-close":"Notification_notification-close__g+yCB","notification-close-first-line":"Notification_notification-close-first-line__rMsW2","notification-close-second-line":"Notification_notification-close-second-line__YhN0-"}}}]);